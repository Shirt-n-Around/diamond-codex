<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Diamond Codex</title>
  <meta name="color-scheme" content="dark light">
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <svg class="diamond" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 3l3.5 4.5L12 12 8.5 7.5 12 3zm0 9l7-7 3 4-10 12L2 9l3-4 7 7z"/>
        </svg>
        <div class="brand-text">
          <h1 id="app-title">The Diamond Codex</h1>
          <p id="app-tagline" class="tagline">Strength Through Self-Awareness</p>
        </div>
      </div>
      <nav class="nav" role="tablist" aria-label="Primary">
        <button class="tab-btn active" data-tab="home" role="tab" aria-selected="true">Home</button>
        <button class="tab-btn" data-tab="leaderProfile" role="tab" aria-selected="false">Leader Profile</button>
        <button class="tab-btn" data-tab="goals" role="tab" aria-selected="false">Goals</button>
        <button class="tab-btn" data-tab="quickRef" role="tab" aria-selected="false">Quick Reference</button>
        <button class="tab-btn" data-tab="seniorMentor" role="tab" aria-selected="false">Senior Mentor Notes</button>
        <button class="tab-btn" data-tab="actionPlan" role="tab" aria-selected="false">Action Plan</button>
        <button class="tab-btn" data-tab="coachingGrow" role="tab" aria-selected="false">Coaching ‚Ä¢ GROW</button>
      </nav>
      <div class="header-actions">
        <button id="btn-lock" class="icon-btn" title="Lock Codex" aria-label="Lock Codex">üîí</button>
        <button id="btn-settings" class="icon-btn" title="Settings" aria-label="Settings">‚öôÔ∏è</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section id="home" class="tab-pane active" role="tabpanel">
      <div class="toolbar">
        <button id="import-json" class="btn">Import JSON</button>
        <button id="export-json" class="btn secondary">Export JSON</button>
        <button id="print-site" class="btn outline">Print Codex</button>
      </div>

      <div class="card intro">
        <h2>Welcome</h2>
        <p>This is your fast, no‚Äëfriction reference hub designed for First Sergeants. Keep your lessons learned, mentor quotes, coaching prompts, a structured Leader Profile, and a Goals tracker‚Äîso you keep earning the diamond and never stagnate.</p>
        <p class="muted">Tip: Your entries are stored locally in your browser (no server). Use <strong>Export</strong> to back up your content.</p>
      </div>

      <div class="grid grid-2">
        <div class="card">
          <h3>Fast Edit: Quick Reference</h3>
          <textarea id="quickRef-editor" placeholder="Paste or type your quick‚Äëreference bullets here..."></textarea>
          <div class="editor-meta"><span id="quickRef-count"></span></div>
          <button class="btn" data-save="quickRef">Save</button>
        </div>
        <div class="card">
          <h3>Fast Edit: Senior Mentor Notes</h3>
          <textarea id="seniorMentor-editor" placeholder="Paste Senior Mentor quotes/takeaways..."></textarea>
          <div class="editor-meta"><span id="seniorMentor-count"></span></div>
          <button class="btn" data-save="seniorMentor">Save</button>
        </div>
        <div class="card">
          <h3>Fast Edit: Action Plan</h3>
          <textarea id="actionPlan-editor" placeholder="Paste or type your Action Plan for Growth here..."></textarea>
          <div class="editor-meta"><span id="actionPlan-count"></span></div>
          <button class="btn" data-save="actionPlan">Save</button>
        </div>
        <div class="card">
          <h3>Fast Edit: Coaching ‚Ä¢ GROW</h3>
          <textarea id="coachingGrow-editor" placeholder="Goals, Reality, Options, Will..."></textarea>
          <div class="editor-meta"><span id="coachingGrow-count"></span></div>
          <button class="btn" data-save="coachingGrow">Save</button>
        </div>
      </div>
    </section>

    <section id="leaderProfile" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Leader Profile</h2>
        <p class="muted">Capture your strengths, weaknesses, values, triggers, goals, and development actions. Rate your core competencies. Private unless you export.</p>
        <div class="grid grid-2">
          <div class="stack">
            <label>Strengths</label>
            <textarea id="lp-strengths" placeholder="e.g., Humility, Courage, Coaching mindset..."></textarea>
          </div>
          <div class="stack">
            <label>Weaknesses</label>
            <textarea id="lp-weaknesses" placeholder="e.g., Time management, Overusing charisma, Fix‚Äëit reflex..."></textarea>
          </div>
          <div class="stack">
            <label>Values</label>
            <textarea id="lp-values" placeholder="e.g., Hard work, Compassion with boundaries, Accountability..."></textarea>
          </div>
          <div class="stack">
            <label>Triggers</label>
            <textarea id="lp-triggers" placeholder="e.g., Disrespect, unclear standards, last‚Äëminute churn..."></textarea>
          </div>
          <div class="stack">
            <label>Goals (Short‚ÄëTerm)</label>
            <textarea id="lp-goals-short" placeholder="e.g., Weekly listening block; 1 GROW convo/week..."></textarea>
          </div>
          <div class="stack">
            <label>Goals (Long‚ÄëTerm)</label>
            <textarea id="lp-goals-long" placeholder="e.g., Culture of psychological safety; decentralized execution muscle..."></textarea>
          </div>
          <div class="stack">
            <label>Development Actions</label>
            <textarea id="lp-dev-actions" placeholder="e.g., Practice SBI/I; debrief cadence; mentorship lattice..."></textarea>
          </div>
          <div class="stack">
            <label>Accountability / Check‚Äëins</label>
            <textarea id="lp-checkins" placeholder="e.g., Monthly with CCC; bi‚Äëweekly with NCOICs; personal reflection Friday 1500..."></textarea>
          </div>
        </div>

        <div class="card inner">
          <h3>Competency Ratings (0‚Äì10)</h3>
          <div class="ratings">
            <div class="rating">
              <label for="cr-communication">Communication</label>
              <input type="range" min="0" max="10" id="cr-communication"><span id="cr-communication-val">5</span>
            </div>
            <div class="rating">
              <label for="cr-accountability">Accountability</label>
              <input type="range" min="0" max="10" id="cr-accountability"><span id="cr-accountability-val">5</span>
            </div>
            <div class="rating">
              <label for="cr-empathy">Empathy</label>
              <input type="range" min="0" max="10" id="cr-empathy"><span id="cr-empathy-val">5</span>
            </div>
            <div class="rating">
              <label for="cr-decisiveness">Decisiveness</label>
              <input type="range" min="0" max="10" id="cr-decisiveness"><span id="cr-decisiveness-val">5</span>
            </div>
            <div class="rating">
              <label for="cr-time">Time Management</label>
              <input type="range" min="0" max="10" id="cr-time"><span id="cr-time-val">5</span>
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn" id="lp-save">Save Profile</button>
          <button class="btn outline" id="lp-copy-summary">Copy Summary</button>
          <button class="btn secondary" id="lp-open-dossier">Open Dossier (Print)</button>
        </div>

        <div class="card inner">
          <h3>Profile Summary</h3>
          <div id="lp-summary" class="content"></div>
        </div>
      </div>
    </section>

    <section id="goals" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Goals Tracker</h2>
        <div class="goal-form">
          <input id="goal-title" placeholder="Goal title (e.g., Launch mentorship lattice)" />
          <input id="goal-due" type="date" />
          <input id="goal-pct" type="number" min="0" max="100" step="5" placeholder="% complete" />
          <button class="btn" id="goal-add">Add Goal</button>
        </div>
        <div id="goals-list" class="goals"></div>
      </div>
    </section>

    <section id="quickRef" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Quick Reference</h2>
        <div id="quickRef-content" class="content"></div>
      </div>
    </section>

    <section id="seniorMentor" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Senior Mentor Notes</h2>
        <div id="seniorMentor-content" class="content"></div>
      </div>
    </section>

    <section id="actionPlan" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Action Plan for Growth</h2>
        <div id="actionPlan-content" class="content"></div>
      </div>
    </section>

    <section id="coachingGrow" class="tab-pane" role="tabpanel">
      <div class="card">
        <h2>Coaching ‚Ä¢ GROW</h2>
        <div id="coachingGrow-content" class="content"></div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <small id="footer-ack">
        Inspired by the AFGSC Striker Leadership Course (SILC); created as a personal reference to help First Sergeants earn their diamond and never stagnate.
      </small>
      <small class="muted">Personal tool; not affiliated with or endorsed by AFGSC or SILC.</small>
    </div>
  </footer>

  <!-- Import -->
  <dialog id="import-dialog">
    <form method="dialog" class="dialog-card">
      <h3>Import Config/Notes JSON</h3>
      <p class="muted">Paste JSON that includes <code>app</code>, <code>footer</code>, and optional content fields. Existing local content will be overwritten for matching keys.</p>
      <textarea id="import-textarea" placeholder='{"app":{"title":"The Diamond Codex","tagline":"Strength Through Self-Awareness"},"footer":{"acknowledgment":"..."},"leaderProfile":{...},"goals":[...],"quickRef":"- Bullet 1\n- Bullet 2"}'></textarea>
      <div class="dialog-actions">
        <button value="cancel" class="btn secondary">Cancel</button>
        <button id="import-apply" value="default" class="btn">Import</button>
      </div>
    </form>
  </dialog>

  <!-- Settings / PIN -->
  <dialog id="settings-dialog">
    <form method="dialog" class="dialog-card">
      <h3>Settings</h3>
      <p class="muted">Set or change a simple PIN to lock this Codex on this browser. (Basic privacy‚Äîdo not rely for classified or sensitive info.)</p>
      <label>New PIN</label>
      <input id="pin-new" type="password" inputmode="numeric" pattern="[0-9]*" placeholder="4-8 digits"/>
      <label>Confirm PIN</label>
      <input id="pin-confirm" type="password" inputmode="numeric" pattern="[0-9]*" placeholder="Repeat PIN"/>
      <div class="dialog-actions">
        <button value="cancel" class="btn secondary">Cancel</button>
        <button id="pin-save" value="default" class="btn">Save PIN</button>
      </div>
    </form>
  </dialog>

  <!-- Lock Screen -->
  <dialog id="lock-dialog">
    <form method="dialog" class="dialog-card lock-card">
      <h3>Enter PIN to Unlock</h3>
      <input id="pin-entry" type="password" inputmode="numeric" pattern="[0-9]*" placeholder="PIN"/>
      <div class="dialog-actions">
        <button id="pin-enter" value="default" class="btn">Unlock</button>
      </div>
      <p class="muted">Forgot your PIN? Clear this browser's site data to reset.</p>
    </form>
  </dialog>

  <div id="toast" role="status" aria-live="polite"></div>

  <script src="script.js"></script>
</body>
</html>
